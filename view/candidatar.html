<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Candidatar-se à Vaga</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        /* Estilos para o modal (pop-up) de sucesso */
        #successModal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
        }

        #modalContent {
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 300px;
            text-align: center;
        }

        #modalContent button {
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <!-- Barra de Navegação -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Aruja Guia</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="empresas.html">Empresas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="buscar-vagas.html">Vagas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="sobre.html">Sobre</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contato.html">Contato</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Mais
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="https://www.prefeituradearuja.sp.gov.br/" target="_blank">PREFEITURA</a>
                            <a class="dropdown-item" href="https://www.arujatransporte.com.br/" target="_blank">TRANSPORTE</a>
                            <a class="dropdown-item" href="https://servicosonline.prefeituradearuja.sp.gov.br/servicosonline/arujaemprega/" target="_blank">EMPREGOS</a>
                        </div>
                    </li>
                    <!-- Link de Login e Logout -->
                    <li class="nav-item" id="loginNavItem">
                        <a class="nav-link" href="login.html">Login</a>
                    </li>
                    <li class="nav-item" id="logoutNavItem" style="display: none;">
                        <a class="nav-link" href="#" onclick="logout()">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <script>
        // Verifica o estado de login do usuário
        function checkLoginStatus() {
            const usuarioLogado = localStorage.getItem('usuarioLogado');

            if (usuarioLogado) {
                // Se o usuário estiver logado, mostra o botão de logout
                document.getElementById('loginNavItem').style.display = 'none';
                document.getElementById('logoutNavItem').style.display = 'block';
            } else {
                // Se o usuário não estiver logado, mostra o botão de login
                document.getElementById('loginNavItem').style.display = 'block';
                document.getElementById('logoutNavItem').style.display = 'none';
            }
        }

        // Função de logout
        function logout() {
            localStorage.removeItem('usuarioLogado'); // Remove a informação de login
            alert('Logout realizado com sucesso!');
            window.location.href = 'index.html'; // Redireciona para a página inicial
        }

        // Verifica o status de login ao carregar a página
        window.onload = checkLoginStatus;
    </script>

    <!-- Conteúdo da Página de Candidatura -->
    <div class="container my-5">
        <h1>Candidatar-se à Vaga</h1>

        <!-- Formulário de candidatura -->
        <form id="candidaturaForm">
            <div class="form-group">
                <label for="nome">Nome Completo</label>
                <input type="text" class="form-control" id="nome" name="nome" placeholder="Digite seu nome completo" required>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="Digite seu email" required>
            </div>
            <div class="form-group">
                <label for="telefone">Telefone</label>
                <input type="tel" class="form-control" id="telefone" name="telefone" placeholder="Digite seu telefone" required>
            </div>
            <div class="form-group">
                <label for="curriculo">Anexar Currículo (PDF apenas)</label>
                <input type="file" class="form-control" id="curriculo" name="curriculo" accept=".pdf" required>
            </div>
            <button type="submit" class="btn btn-success">Enviar Candidatura</button>
            <a href="formulario-curriculo.html" class="btn btn-secondary">Monte seu Currículo Agora</a>
        </form>
    </div>

    <!-- Modal de sucesso (pop-up) -->
    <div id="successModal">
        <div id="modalContent">
            <h4>Candidatura Realizada com Sucesso!</h4>
            <button id="closeModal" class="btn btn-primary">OK</button>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        document.getElementById('candidaturaForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Evita o envio do formulário

            // Verifica se o arquivo é um PDF
            const curriculo = document.getElementById('curriculo').files[0];
            if (!curriculo || curriculo.type !== 'application/pdf') {
                alert('Por favor, anexe um arquivo PDF válido.');
                return;
            }

            // Exibe o pop-up de sucesso
            const modal = document.getElementById('successModal');
            modal.style.display = 'block';

            // Fecha o pop-up e redireciona o usuário para a página buscar-vagas.html
            document.getElementById('closeModal').addEventListener('click', function () {
                modal.style.display = 'none';
                window.location.href = 'buscar-vagas.html'; // Redireciona para a página de busca de vagas
            });
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>

</html>
