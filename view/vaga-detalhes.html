<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes da Vaga</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script>
        const vagas = {
            "analista-de-sistemas": {
                title: "Analista de Sistemas",
                tipo: "Integral",
                salario: "R$ 5.000,00",
                empresa: "Itaquá Resistências Elétricas",
                localizacao: "Itaquaqeucetuba, SP",
                descricao: "Responsável por analisar e desenvolver sistemas."
            },
            "engenheiro-de-software": {
                title: "Engenheiro de Software",
                tipo: "Integral",
                salario: "R$ 8.000,00",
                empresa: "R.G.R Conexões",
                localizacao: "Arujá, SP",
                descricao: "Desenvolver soluções em software e gerenciar equipes."
            },
            "desenvolvedor-web": {
                title: "Desenvolvedor Web",
                tipo: "Meio período",
                salario: "R$ 6.000,00",
                empresa: "R.G.R Conexões",
                localizacao: "Arujá, RJ",
                descricao: "Desenvolver e manter websites."
            },
            "estagiario-marketing": {
                title: "Estagiário de Marketing",
                tipo: "Estágio",
                salario: "R$ 1.500,00",
                empresa: "Rayflex  Portas Rápidas",
                localizacao: "Mogi das Cruzes, SP",
                descricao: "Auxiliar nas atividades de marketing digital."
            },
            "analista-remoto": {
                title: "Analista Remoto",
                tipo: "Remoto",
                salario: "R$ 4.000,00",
                empresa: "Itaquá Resistências Elétricas",
                localizacao: "Home Office",
                descricao: "Analisar dados e reportar resultados."
            },
            "gerente-de-projetos": {
                title: "Gerente de Projetos",
                tipo: "Integral",
                salario: "R$ 12.000,00",
                empresa: "Poliprint Embalagens",
                localizacao: "Arujá, SP",
                descricao: "Gerenciar projetos e equipes multidisciplinares."
            },
            "analista-de-marketing": {
                title: "Analista de Marketing",
                tipo: "Integral",
                salario: "R$ 4.500,00",
                empresa: "Contato Visual",
                localizacao: "Arujá, SP",
                descricao: "Desenvolver estratégias de marketing."
            }
        };

        function carregarDetalhes() {
            const params = new URLSearchParams(window.location.search);
            const vagaId = params.get('vaga');

            if (vagaId && vagas[vagaId]) {
                const vaga = vagas[vagaId];
                document.getElementById('vaga-titulo').innerText = vaga.title;
                document.getElementById('vaga-tipo').innerText = vaga.tipo;
                document.getElementById('vaga-salario').innerText = vaga.salario;
                document.getElementById('vaga-empresa').innerText = vaga.empresa;
                document.getElementById('vaga-localizacao').innerText = vaga.localizacao;
                document.getElementById('vaga-descricao').innerText = vaga.descricao;

                // Verifica o estado de login para exibir o botão de candidatura
                const usuarioLogado = localStorage.getItem('usuarioLogado');
                const botaoCandidatar = document.getElementById('botao-candidatar');
                if (usuarioLogado) {
                    botaoCandidatar.style.display = 'inline-block';
                } else {
                    botaoCandidatar.style.display = 'none';
                }
            } else {
                document.getElementById('vaga-titulo').innerText = "Vaga não encontrada.";
                document.getElementById('vaga-detalhes').style.display = 'none'; // Esconde os detalhes se a vaga não existir
            }
        }

        window.onload = carregarDetalhes;
    </script>
</head>

<body>
    <!-- Barra de Navegação -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Aruja Guia</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="empresas.html">Empresas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="buscar-vagas.html">Vagas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="sobre.html">Sobre</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contato.html">Contato</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Mais
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="https://www.prefeituradearuja.sp.gov.br/" target="_blank">PREFEITURA</a>
                            <a class="dropdown-item" href="https://www.arujatransporte.com.br/" target="_blank">TRANSPORTE</a>
                            <a class="dropdown-item" href="https://servicosonline.prefeituradearuja.sp.gov.br/servicosonline/arujaemprega/" target="_blank">EMPREGOS</a>
                        </div>
                    </li>
                    <!-- Link de Login e Logout -->
                    <li class="nav-item" id="loginNavItem">
                        <a class="nav-link" href="login.html">Login</a>
                    </li>
                    <li class="nav-item" id="logoutNavItem" style="display: none;">
                        <a class="nav-link" href="#" onclick="logout()">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <script>
        // Verifica o estado de login do usuário
        function checkLoginStatus() {
            const usuarioLogado = localStorage.getItem('usuarioLogado');

            if (usuarioLogado) {
                // Se o usuário estiver logado, mostra o botão de logout
                document.getElementById('loginNavItem').style.display = 'none';
                document.getElementById('logoutNavItem').style.display = 'block';
            } else {
                // Se o usuário não estiver logado, mostra o botão de login
                document.getElementById('loginNavItem').style.display = 'block';
                document.getElementById('logoutNavItem').style.display = 'none';
            }
        }

        // Função de logout
        function logout() {
            localStorage.removeItem('usuarioLogado'); // Remove a informação de login
            alert('Logout realizado com sucesso!');
            window.location.href = 'index.html'; // Redireciona para a página inicial
        }

        // Verifica o status de login ao carregar a página
        checkLoginStatus();
    </script>

    <div class="container my-5">
        <h2 id="vaga-titulo"></h2>
        <div id="vaga-detalhes">
            <p><strong>Tipo:</strong> <span id="vaga-tipo"></span></p>
            <p><strong>Salário:</strong> <span id="vaga-salario"></span></p>
            <p><strong>Empresa:</strong> <span id="vaga-empresa"></span></p>
            <p><strong>Localização:</strong> <span id="vaga-localizacao"></span></p>
            <p><strong>Descrição:</strong> <span id="vaga-descricao"></span></p>
            <a id="botao-candidatar" class="btn btn-primary" href="candidatar.html" style="display: none;">Candidatar</a>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>

</html>
